<!DOCTYPE html>
<html lang="en">
<head>
	
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
<<<<<<< HEAD
	<title>Realtime D-MON | Dashboard</title>
=======
	<title>Realtime D-MON</title>
>>>>>>> b7a56822f68b892dd66857fd37bf7bda1fce861c
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="stylesheet" type="text/css" href="css/cloud-admin.css" >
	<link rel="stylesheet" type="text/css"  href="css/themes/graphite.css" id="skin-switcher" >
	<link rel="stylesheet" type="text/css"  href="css/responsive.css" >
	<!-- STYLESHEETS --><!--[if lt IE 9]><script src="js/flot/excanvas.min.js"></script><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script><![endif]-->
	<link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="css/weather-icons.min.css" rel="stylesheet">
	<link href="css/weather-icons-wind.min.css" rel="stylesheet">
	<!-- ANIMATE -->
	<link rel="stylesheet" type="text/css" href="css/animatecss/animate.min.css" />
	<!-- FONTS -->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700' rel='stylesheet' type='text/css'>
	<!-- PAGE SPECIFIC STYLES -->
	<style type="text/css">
		      #g1, #g2, #g3, #g4, #g5, #g6 {
				width:100%; height:160px;
			  }
	</style>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="//thingspeak.com/highcharts-3.0.8.js"></script>
    <script type="text/javascript" src="//thingspeak.com/exporting.js"></script>
	<script type="text/javascript">
  // variables for the first series
  var series_1_channel_id = 108012;
  var series_1_field_number = 1;
  var series_1_read_api_key = '';
  var series_1_results = 10;
  var series_1_color = '#d62020';

  // variables for the second series
  var series_2_channel_id = 108012;
  var series_2_field_number = 2;
  var series_2_read_api_key = '';
  var series_2_results = 10;
  var series_2_color = '#d62020';
  
  // variables for the third series
  var series_3_channel_id = 108012;
  var series_3_field_number = 3;
  var series_3_read_api_key = '';
  var series_3_results = 10;
  var series_3_color = '#d62020';

  // chart title
  var chart_title = '';
  // y axis title
  var y_axis_title = 'Values';

  // user's timezone offset
  var my_offset = new Date().getTimezoneOffset();
  // chart variable
  var my_chart = [1, 2, 3];
  var chartNum = 0;

  // when the document is ready
  $(document).on('ready', function() {
    // add a blank chart
    addChart(1);
    // add the first series
    addSeries(1, series_1_channel_id, series_1_field_number, series_1_read_api_key, series_1_results, series_1_color);
	// add a blank chart
	addChart(2);
	// add the second series
    addSeries(2, series_2_channel_id, series_2_field_number, series_2_read_api_key, series_2_results, series_2_color);
	// add a blank chart
	addChart(3);
	// add the third series
    addSeries(3, series_3_channel_id, series_3_field_number, series_3_read_api_key, series_3_results, series_3_color);
  });

  // add the base chart
  function addChart(chart) {
    // variable for the local date in milliseconds
    var localDate;
	var renderID;
	switch(chart)
	{
		case(1):
			renderID = 'chart-container1';
			chartNum=1;
			break;
		case(2):
			renderID = 'chart-container2';
			chartNum=2;
			break;
		case(3):
			renderID = 'chart-container3';
			chartNum=3;
			break;
		default:
			chartNum=0;
			renderID = 'chart-container';
	}
	
    // specify the chart options
    var chartOptions = {
      chart: {
        //renderTo: 'chart-container',
		renderTo: renderID,
        defaultSeriesType: 'line',
        backgroundColor: '#F5F6F6',
		dynamic: true,
        events: { }
      },
      title: { text: chart_title },
      plotOptions: {
        series: {
          marker: { radius: 3 },
          animation: true,
          step: false,
		  dynamic: true,
          borderWidth: 0,
          turboThreshold: 0
        }
      },
      tooltip: {
        // reformat the tooltips so that local times are displayed
        formatter: function() {
          var d = new Date(this.x + (my_offset*60000));
          var n = (this.point.name === undefined) ? '' : '<br>' + this.point.name;
          return this.series.name + ':<b>' + this.y + '</b>' + n + '<br>' + d.toDateString() + '<br>' + d.toTimeString().replace(/\(.*\)/, "");
        }
      },
      xAxis: {
        type: 'datetime',
        title: { text: 'Date' }
      },
      yAxis: { title: { text: y_axis_title } },
      exporting: { enabled: false },
      legend: { enabled: false },
      credits: {
        text: 'ThingSpeak.com',
        href: 'https://thingspeak.com/',
        style: { color: '#D62020' }
      }
    };

    // draw the chart
    my_chart[chartNum] = new Highcharts.Chart(chartOptions);
  }

  // add a series to the chart
  function addSeries(chartNum, channel_id, field_number, api_key, results, color) {
    var field_name = 'field' + field_number;

    // get the data with a webservice call
    $.getJSON('https://api.thingspeak.com/channels/' + channel_id + '/fields/' + field_number + '.json?offset=0&round=2&results=' + results + '&api_key=' + api_key, function(data) {

      // blank array for holding chart data
      var chart_data = [];

      // iterate through each feed
      $.each(data.feeds, function() {
        var point = new Highcharts.Point();
        // set the proper values
        var value = this[field_name];
        point.x = getChartDate(this.created_at);
        point.y = parseFloat(value);
        // add location if possible
        if (this.location) { point.name = this.location; }
        // if a numerical value exists add it
        if (!isNaN(parseInt(value))) { chart_data.push(point); }
      });

      // add the chart data
      my_chart[chartNum].addSeries({ data: chart_data, name: data.channel[field_name], color: color });
    });
  }

  // converts date format from JSON
  function getChartDate(d) {
    // offset in minutes is converted to milliseconds and subtracted so that chart's x-axis is correct
    return Date.parse(d) - (my_offset * 60000);
  }

</script>
</head>
<body>

	<!-- HEADER -->
	<header class="navbar clearfix" id="header">
		<div class="container">
			<div class="navbar-brand">
				<!-- COMPANY LOGO -->
				<a href="index.html">
					<img src="" alt="REALTIME D-MON" class="img-responsive" style="width: 169px;" />
				</a>
				<!-- /COMPANY LOGO -->
				<!-- SIDEBAR COLLAPSE -->
				<div id="sidebar-collapse" class="sidebar-collapse btn">
					<i class="fa fa-bars" 
						data-icon1="fa fa-bars" 
						data-icon2="fa fa-bars" ></i>
				</div>
				<!-- /SIDEBAR COLLAPSE -->
			</div>
			
			<!-- NAVBAR RIGHT -->
			<ul class="nav navbar-nav pull-right" style="min-width: 10px; margin-top: 6px;">
				<li class="dropdown user">
					<a class="dropdown-toggle" href="http://zyten.github.io/dmon-web/index.html" target="_blank">
						<span class="username"><i class="fa fa-cloud"></i> Project Page</span>
					</a>
				</li>
				<li class="dropdown user">
					<a class="dropdown-toggle" href="https://github.com/Zyten/dmon-web" target="_blank">
						<span class="username"><i class="fa fa-github"></i> Fork me on GitHub</span>
					</a>
				</li>
			</ul>
			<!-- /NAVBAR RIGHT -->
		</div>
	</header>
	<!--/HEADER -->
	
	<!-- PAGE -->
	<section id="page">
		<div id="main-content">
			
			<div class="container">
				<div class="row">
					<div id="content" class="col-lg-12">
						<!-- PAGE HEADER-->
						<div class="row">
							<div class="col-sm-12">
								<div class="page-header">
									<!-- STYLER -->
									
									<!-- /STYLER -->
									<!-- BREADCRUMBS -->
									<ul class="breadcrumb">
										<li>
											<i class="fa fa-home"></i>
											<a href="index.html">Home</a>
										</li>
										<li><i class="fa fa-map-marker"></i> UTHM</li>
									</ul>
									<!-- /BREADCRUMBS -->
									<div class="clearfix">
										<h3 class="content-title pull-left">UTHM</h3>
									</div>
									<div class="description">Actual Report, Historical Data and more</div>
								</div>
							</div>
						</div>
						<!-- /PAGE HEADER -->
						
						
						<!--------------------------->
						
						<!-- DASHBOARD CONTENT -->
						<div class="row">
							
							<!-- GOOGLE MAP -->
							<div class="col-md-6">
								<!-- BOX -->
								<div class="box border orange">
									<div class="box-title">
										<h4><i class="fa fa-map-marker"></i>Air Pollution Index</h4>
										<div class="tools">
											<a href="javascript:;" class="reload">
												<i class="fa fa-refresh"></i>
											</a>
											<a href="javascript:;" class="collapse">
												<i class="fa fa-chevron-up"></i>
											</a>
											<a href="javascript:;" class="remove">
												<i class="fa fa-times"></i>
											</a>
										</div>
									</div>
									<div class="row box-body" style="margin-right:0px; height: 250px;">
										<div class="col-md-6" style="height: 240px;">
											<div id='chart_div'> 
											<img class="center-block" alt="Ajax loader" src="//thingspeak.com/assets/loader-transparent.gif" style="position: absolute; margin: auto; top: 0; left: 0; right: 0; bottom: 0;" />
											</div>
										</div>
										<div class="col-md-5" style=" height: 240px;">
											<img style="width: 180px; height: 200px; margin-top:15px; margin-left:15px; float: left;" src="img/apicolorref.png" />
										</div>
									</div>
								</div>
								<!-- /BOX -->
							</div>
							<!-- END MAP -->
							
							<!-- ACTUAL REPORT -->
							<div class="col-md-6">
								<!-- BOX -->
								<div class="box solid grey">
									<div class="box-title">
										<h4><i class="fa fa-bell"></i>Sensor Values	</h4>
										<div class="tools hidden-xs">
											<span class="badge badge-green" id="last_update"></span>&nbsp;&nbsp;&nbsp;
											<a href="javascript:;" class="collapse">
												<i class="fa fa-chevron-up"></i>
											</a>
											<a href="javascript:;" class="remove">
												<i class="fa fa-times"></i>
											</a>
										</div>
									</div>
									<div class="box-body"  style="height: 250px;">
										<div style="height: 280px;">
											<div class="box-body font-400" style="padding-top: 0px;">
												<h2><i class="wi wi-thermometer"></i> Temperature: <div id="nowTemp" style="text-align: right; width: 170px; height: 40px; float: right; background: url(img/loaders/ajax-loader.gif) no-repeat 80% 50%; "></div></h2>
												<h2><i class="wi wi-humidity"></i> Humidity: <div id="nowHumidity" style="text-align: right; width: 170px; height: 40px; float: right; background: url(img/loaders/ajax-loader.gif) no-repeat 80% 50%; "></div></h2>
												<h2><i class="wi wi-dust"></i> Dust Density: <div id="nowDust" style="text-align: right; width: 170px; height: 40px; float: right; background: url(img/loaders/ajax-loader.gif) no-repeat 80% 50%; "></div></h2>
											</div>
										</div>
									</div>
								</div>
								<!-- /BOX -->
							</div>
							<!-- END ACTUAL REPORT -->
														
							<!-- ANIMATED CHART -->
							<div class="col-md-12">
								<!-- BOX -->
								<div class="box border inverse">
									<div class="box-title">
										<h4><i class="wi wi-dust"></i>24H Dust Density Report</h4>
										<div class="tools">
											<a href="javascript:;" class="collapse">
												<i class="fa fa-chevron-up"></i>
											</a>
											<a href="javascript:;" class="remove">
												<i class="fa fa-times"></i>
											</a>
										</div>
									</div>
									<!--<div class="box-body">
										<div id="chart_grow1" class="chart"></div>
									</div>-->
								    <div id="chart-container3">
										<img alt="Ajax loader" src="//thingspeak.com/assets/loader-transparent.gif" style="position: absolute; margin: auto; top: 0; left: 0; right: 0; bottom: 0;" />
									</div>
								</div>
								<!-- /BOX -->
							</div>
							<!-- /ANIMATED CHART -->
							
							<!-- ANIMATED CHART -->
							<div class="col-md-6">
								<!-- BOX -->
								<div class="box border inverse">
									<div class="box-title">
										<h4><i class="wi wi-thermometer"></i>24H Temperature Report</h4>
										<div class="tools">
											<a href="javascript:;" class="collapse">
												<i class="fa fa-chevron-up"></i>
											</a>
											<a href="javascript:;" class="remove">
												<i class="fa fa-times"></i>
											</a>
										</div>
									</div>
									<!--<div class="box-body">
										<div id="chart_grow2" class="chart"></div>
									</div>-->
									<div id="chart-container1">
										<img alt="Ajax loader" src="//thingspeak.com/assets/loader-transparent.gif" style="position: absolute; margin: auto; top: 0; left: 0; right: 0; bottom: 0;" />
									</div>
								</div>
								<!-- /BOX -->
							</div>
							<!-- /ANIMATED CHART -->
							
							<!-- ANIMATED CHART -->
							<div class="col-md-6">
								<!-- BOX -->
								<div class="box border inverse">
									<div class="box-title">
										<h4><i class="wi wi-humidity"></i>24H Humidity Report</h4>
										<div class="tools">
											<a href="javascript:;" class="collapse">
												<i class="fa fa-chevron-up"></i>
											</a>
											<a href="javascript:;" class="remove">
												<i class="fa fa-times"></i>
											</a>
										</div>
									</div>
									<div id="chart-container2">
										<img alt="Ajax loader" src="//thingspeak.com/assets/loader-transparent.gif" style="position: absolute; margin: auto; top: 0; left: 0; right: 0; bottom: 0;" />
									</div>
									<!--<div class="box-body">
										<div id="chart_grow3" class="chart"></div>
									</div>-->
								</div>
								<!-- /BOX -->
							</div>
							<!-- /ANIMATED CHART -->
						</div>
					    <!-- END DASHBOARD -->
					   
					    <!--------------------------->
						<div class="footer-tools">
							<span class="go-top">
								<i class="fa fa-chevron-up"></i> Top
							</span>
						</div>
					</div><!-- /CONTENT-->
				</div>
			</div>
		</div>
	</section>
	<!--/PAGE -->
	<!-- JAVASCRIPTS -->
	<!-- Placed at the end of the document so the pages load faster -->
	<!-- JQUERY -->
	<script src="js/jquery/jquery-2.0.3.min.js"></script>
	<!-- JQUERY UI-->
	<script src="js/jquery-ui-1.10.3.custom/js/jquery-ui-1.10.3.custom.min.js"></script>
	<!-- BOOTSTRAP -->
	<script src="bootstrap-dist/js/bootstrap.min.js"></script>
	
		
	<!-- DATE RANGE PICKER -->
	<script src="js/bootstrap-daterangepicker/moment.min.js"></script>
	<!-- SLIMSCROLL -->
	<script type="text/javascript" src="js/jQuery-slimScroll-1.3.0/jquery.slimscroll.min.js"></script>
	<!-- SLIMSCROLL -->
	<script type="text/javascript" src="js/jQuery-slimScroll-1.3.0/jquery.slimscroll.min.js"></script><script type="text/javascript" src="js/jQuery-slimScroll-1.3.0/slimScrollHorizontal.min.js"></script>
	<!-- BLOCK UI -->
	<script type="text/javascript" src="js/jQuery-BlockUI/jquery.blockUI.min.js"></script>
	<!-- GAGE -->
	<script src="js/justgage/js/raphael.2.1.0.min.js"></script>
    <script src="js/justgage/js/justgage.1.0.1.min.js"></script>
	<!-- SPARKLINES -->
	<script type="text/javascript" src="js/sparklines/jquery.sparkline.min.js"></script>
	<!-- KNOB -->
	<script type="text/javascript" src="js/jQuery-Knob/js/jquery.knob.min.js"></script>
	<!-- COOKIE -->
	<script type="text/javascript" src="js/jQuery-Cookie/jquery.cookie.min.js"></script>
	<!-- GOOGLE MAPS -->
	<script src="http://maps.google.com/maps/api/js?sensor=true" type="text/javascript"></script>
	<script type="text/javascript" src="js/gmaps/gmaps.min.js"></script>
	<!-- CUSTOM SCRIPT -->
	<script src="js/script.js"></script>
	<script src="js/charts.js"></script>
	<script src="js/googlemaps.js"></script>

	<!-- /JAVASCRIPTS -->
</body>
<<<<<<< HEAD

<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js'></script> 
<script type='text/javascript' src='https://www.google.com/jsapi'></script>
<script type='text/javascript'>
 
    var chart; 
    var charts;
    var data;
 
        google.load('visualization', '1', {packages:['gauge']});
        google.setOnLoadCallback(initChart);
 
    function displayData(point) {
     
        data.setValue(0, 0, 'API');
        data.setValue(0, 1, point);
        chart.draw(data, options);
    }
 
    function loadData() {
        // variable for the data point
        var p;
     
        $.getJSON('https://api.thingspeak.com/channels/108012/field/3/last.json?apikey=MHJRONDJFO3TD3WA&callback=?', function(data) { //Thingspeak
            // get the data point
             
            p = data.field3; //Thingspeak
             
            if (p) {
                p = (p/1);
                displayData(p);
            }
        });
    }
 
    function initChart() {
        data = new google.visualization.DataTable();
        data.addColumn('string', 'Label');
        data.addColumn('number', 'Value');
        data.addRows(1);
             
        chart = new google.visualization.Gauge(document.getElementById('chart_div'));
        options = {
		
		    redColor: "#2B82C9", //blue
			greenColor: "#2CCA90",
		    yellowColor: "#EEE657",
			
            width: 240, 
            height: 240, 
             
            redFrom: 0, 
            redTo: 50,
             
			greenFrom: 50, 
            greenTo: 100, 
			
            yellowFrom: 100, 
            yellowTo: 150, 
             
            minorTicks: 10,
             
            min: 0, 
            max: 150, 
             
            animation: {
                duration: 400, 
                easing: 'out',
            },
        };
     
        loadData();
 
        setInterval('loadData()', 15000);
             
    }
</script>
</html>
=======
</html>
>>>>>>> b7a56822f68b892dd66857fd37bf7bda1fce861c
